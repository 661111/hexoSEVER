---
title: åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(ä¸‰)
description: ä»é›¶å¼€å§‹é­”æ”¹butterfly
date: '2025-02-07 8:00'
cover: /img/2025/01/meihua-post/cover.avif
category:
  - hexo
top_img: /img/2025/01/meihua-post/cover.avif
tags:
  - hexo
  - butterfly
abbrlink: 4222
---
> **é­”æ”¹å‰å¿…çœ‹ï¼ˆæˆ‘å½“ä½ ä»¬éƒ½æ‡‚äº†ï¼Œå¤ªç»†èŠ‚çš„å°±ä¸å†™åœ¨æ•™ç¨‹ä¸­äº†ğŸ¤£ğŸ¤£ğŸ¤£ï¼‰**
> 1.åšå®¢é­”æ”¹æœ‰é£é™©ï¼Œå¦‚æœåšå®¢é­”æ”¹å‡ºé—®é¢˜äº†åˆæ²¡æœ‰å¤‡ä»½ï¼Œå¯é€šè¿‡æ­¤é¡¹ç›®æŸ¥çœ‹åŸºç¡€æºç è¿›è¡Œå›æ»šï¼šjerryc127/hexo-theme-butterflyã€ccknbc-actions/blog-butterfly.è¿™éƒ¨åˆ†é­”æ”¹åŸºæœ¬ä¸Šéƒ½æ˜¯å¤§ä½¬ä»¬é€ å¥½çš„è½®å­ï¼Œæˆ‘æŒ‰ç…§å¤§ä½¬ä»¬çš„è½®å­ç»“åˆè‡ªå·±çš„å–œå¥½è¿›è¡Œé­”æ”¹çš„ï¼Œå…·ä½“è§æˆ‘å‹äººå¸ç¬¬ä¸€ä¸ªæ ç›®å¤§ä½¬ä»¬çš„ç½‘ç«™ï¼Œæœ¬å¤„ä»…åšä¸€ä¸ªæ€»ç»“ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤ã€‚
> 2.é‰´äºæ¯ä¸ªäººçš„æ ¹ç›®å½•åç§°éƒ½ä¸ä¸€æ ·ï¼Œæœ¬å¸–åšå®¢æ ¹ç›®å½•ä¸€å¾‹ä»¥[BlogRoot]æŒ‡ä»£ã€‚
> 3.æœ¬å¸–æ¶‰åŠé­”æ”¹æºç çš„å†…å®¹ï¼Œä¼šä½¿ç”¨diffä»£ç å—æ ‡è¯†ï¼Œå¤åˆ¶æ—¶è¯·ä¸è¦å¿˜è®°åˆ é™¤å‰é¢çš„+ã€-ç¬¦å·ã€‚
> 4.å› ä¸º.pugå’Œ.stylä»¥åŠ.ymlç­‰å¯¹ç¼©è¿›è¦æ±‚è¾ƒä¸ºä¸¥æ ¼ï¼Œè¯·å°½é‡ä¸è¦ä½¿ç”¨è®°äº‹æœ¬ç­‰æ— æ³•æä¾›è¯­æ³•é«˜äº®çš„æ–‡æœ¬ç¼–è¾‘å™¨è¿›è¡Œä¿®æ”¹ã€‚
> 5.æœ¬å¸–åŸºäºButterflyä¸»é¢˜è¿›è¡Œé­”æ”¹æ–¹æ¡ˆç¼–å†™ï¼Œå› æ­¤è¯·è¯»è€…ä¼˜å…ˆæŒæ¡Butterflyä¸»é¢˜å®˜æ–¹æ–‡æ¡£çš„å†…å®¹åå†æ¥è¿›è¡Œé­”æ”¹ã€‚
> 6.é­”æ”¹ä¼šè¿‡ç¨‹å¸¸å¸¸å¼•å…¥è‡ªå®šä¹‰çš„cssä¸jsæ–‡ä»¶ï¼Œæ–¹æ³•è§Hexoåšå®¢æ·»åŠ è‡ªå®šä¹‰csså’Œjsæ–‡ä»¶(åç»­å¼•å…¥)
> **åšå®¢æ­å»ºä¸é­”æ”¹ç³»åˆ—æ•™ç¨‹å¯¼èˆªğŸš¥ğŸš¥ğŸš¥**
> 1.[ğŸ¥¬Hexoåšå®¢æ­å»ºåŸºç¡€æ•™ç¨‹(ä¸€)]()
> 2.[ğŸ’Hexoåšå®¢æ­å»ºåŸºç¡€æ•™ç¨‹(äºŒ)]()
> 3.[ğŸ¥ªHexoåšå®¢æ­å»ºåŸºç¡€æ•™ç¨‹(ä¸‰)]()
> 4.[ğŸ€åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(ä¸€)](https://www.sxiaohe.top/posts/4220.html)
> 5.[ğŸšåšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(äºŒ)](https://www.sxiaohe.top/posts/4221.html) â‡¦å½“å‰ä½ç½®ğŸª‚
> 6.[ğŸ‹åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(ä¸‰)](https://www.sxiaohe.top/posts/4222.html)
> 7.[ğŸ¥•åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(å››)]()
> 8.[ğŸŠåšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(äº”)]()

# 1.å‹é“¾æœ‹å‹åœˆéƒ¨ç½²
ç”±äºè¿™ä¸ªéå¸¸å¤æ‚æ‰€ä»¥æˆ‘è¿™é‡Œä¼šç»™å¤§å®¶åˆ†å‡ºä¸¤ä¸ªä¸åŒçš„æ•™ç¨‹ï¼Œæ—§æœ‹å‹åœˆç›®å‰å·²ç»æš‚åœç»´æŠ¤äº†ï¼Œå»ºè®®å¯ä»¥é€‰æ‹©æ–°æœ‹å‹åœˆï¼ŒåŠŸèƒ½æœ‰ç‚¹
{% folding cyan, è¯·æŸ¥çœ‹æ•™ç¨‹å†…å®¹ %}
{% tabs éƒ¨ç½²æ–¹å¼ %}
<!-- tab æ—§æœ‹å‹åœˆéƒ¨ç½² -->
è¯¦æƒ…çœ‹è¿™ä¸ª[éƒ¨ç½²æ–‡æ¡£](https://fcircle-doc.yyyzyyyz.cn/#/backenddeploy)
<!-- endtab -->

<!-- tab æ–°æœ‹å‹åœˆéƒ¨ç½²(butterflyä¸»é¢˜æ”¯æŒ) -->
**éƒ¨ç½²å‰çš„æ“ä½œ**

åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªjsï¼Œä¾‹å¦‚link.jsï¼ŒæŠŠæ–‡ä»¶å†…å®¹å†™ä¸‹å»ï¼š
``` JS
const YML = require('yamljs')
const fs = require('fs')

const blacklist = ["å‹ç«™åç§°1", "å‹ç«™åç§°2", "å‹ç«™åç§°3"]; // ç”±äºæŸç§åŸå› ï¼Œä¸æƒ³è®¢é˜…çš„åˆ—è¡¨

let friends = [],
    data_f = YML.parse(fs.readFileSync('source/_data/link.yml').toString().replace(/(?<=rss:)\s*\n/g, ' ""\n'));

data_f.forEach((entry, index) => {
    let lastIndex = 2;
    if (index < lastIndex) {
        const filteredLinkList = entry.link_list.filter(linkItem => !blacklist.includes(linkItem.name));
        friends = friends.concat(filteredLinkList);
    }
});

// æ ¹æ®è§„å®šçš„æ ¼å¼æ„å»º JSON æ•°æ®
const friendData = {
    friends: friends.map(item => {
        return [item.name, item.link, item.avatar];
    })
};

// å°† JSON å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²
const friendJSON = JSON.stringify(friendData, null, 2);

// å†™å…¥ friend.json æ–‡ä»¶
fs.writeFileSync('./source/friend.json', friendJSON);

console.log('friend.json æ–‡ä»¶å·²ç”Ÿæˆã€‚');
```
åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š
``` BASH
node link.js
```
å¦‚æœæˆåŠŸï¼Œä¼šåœ¨sourceä¸‹çœ‹åˆ°friend.json
æ‰“å¼€åå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ ¼å¼,è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼š
``` JSON
{
  "friends": [
    [
      "æ¸…ç¾½é£æ‰¬",
      "https://blog.liushen.fun/",
      "https://cdn.qyliu.top/i/2024/03/21/65fc56832e37d.png"
    ],
    [
      "Akilarã®ç³–æœå±‹",
      "https://akilar.top/",
      "https://cdn.qyliu.top/i/2024/04/06/661170950f7a2.png"
    ]
  ]
}
```
å¦‚æœæ˜¯github actionï¼Œå¯ä»¥åœ¨hexo gè„šæœ¬å‰æ·»åŠ å³å¯å®Œæ•´æ„å»ºï¼Œæ³¨æ„éœ€è¦å®‰è£…yamlåŒ…æ‰å¯è§£æymlæ–‡ä»¶ï¼Œè¯·åœ¨æ‰§è¡Œå‰é¢å¤–æ·»åŠ å¯¹åº”npmåŒ…ä¸‹è½½å‘½ä»¤ï¼Œä½ å¯ä»¥åœ¨å®‰è£…ä¾èµ–çš„åœ°æ–¹æ’å…¥ä»¥ä¸‹ä»£ç 
``` YML
npm install yamljs --save
node link.js
```
å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œåœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•å°†ä¼šå‡ºç°ä¸€ä¸ªfriend.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„jsonå•¦ï¼
å“ªæ€•ä½ ä¸éœ€è¦è½»é‡å‹åœˆï¼Œæˆ‘ä¹Ÿæ¨èä½ ä½¿ç”¨jsonæ ¼å¼ç”Ÿæˆå¹¶å¡«å…¥åˆ°å‹é“¾æœ‹å‹åœˆçš„å¯¹åº”é…ç½®ä¸­ï¼Œé¦–å…ˆï¼Œjsonæ–‡ä»¶çš„è¯»å–é€Ÿåº¦æ¯”ç½‘ç«™å¿«å¾ˆå¤šï¼Œå¹¶ä¸”ä¸éœ€è¦è§£æé¡µé¢æ ¼å¼ï¼Œå¯ä»¥æ›´åŠ å¿«æ·çš„å®ç°çˆ¬å–ï¼Œå…¶æ¬¡ï¼Œjsonæ–‡ä»¶æœ‰æ•ˆæ–‡æœ¬å¯†åº¦å¤§ï¼Œæ¯”ç›´æ¥çˆ¬å–å‹é“¾é¡µé¢æ›´åŠ èŠ‚çœæµé‡ã€‚

**éƒ¨ç½²çˆ¬å–é¡¹ç›®**

å‰ç½®å·¥ä½œ
1.Fork æœ¬ä»“åº“:
ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„ Fork æŒ‰é’®ï¼Œå°†æœ¬ä»“åº“å¤åˆ¶åˆ°ä½ è‡ªå·±çš„GitHubè´¦å·ä¸‹ã€‚

2.é…ç½® Secrets:
åœ¨ä½  Fork çš„ä»“åº“ä¸­ï¼Œä¾æ¬¡è¿›å…¥ Settings -> Secrets -> New repository secretï¼Œæ·»åŠ ä»¥ä¸‹ Secretsï¼š

SMTP_PWD: SMTP æœåŠ¡å™¨çš„å¯†ç ï¼Œç”¨äºå‘é€ç”µå­é‚®ä»¶ã€‚(å¦‚æœéœ€è¦å¯ä»¥è®¾ç½®)

3.é…ç½®actionæƒé™ï¼š

åœ¨è®¾ç½®ä¸­ï¼Œç‚¹å‡»actionï¼Œæ‹‰åˆ°æœ€ä¸‹é¢ï¼Œå‹¾é€‰Read and write permissionsé€‰é¡¹å¹¶ä¿å­˜ï¼Œç¡®ä¿actionæœ‰è¯»å†™æƒé™ã€‚

4.å¯ç”¨ GitHub Actions:
GitHub Actions å·²ç»é…ç½®å¥½åœ¨ä»“åº“çš„ .github/workflows/*.yml æ–‡ä»¶ä¸­ï¼Œå½“åˆ°ä¸€å®šæ—¶é—´æ—¶å°†è‡ªåŠ¨æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿è¡Œã€‚
å…¶ä¸­ï¼Œæ¯ä¸ªactionåŠŸèƒ½å¦‚ä¸‹ï¼š

**friend_circle_lite.yml**å®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œçˆ¬å–å¹¶å‘é€é‚®ç®±ï¼›
**deal_subscribe_issue.yml**å¤„ç†å›ºå®šæ ¼å¼çš„issueï¼Œæ‰“ä¸Šå›ºå®šæ ‡ç­¾ï¼Œè¯„è®ºï¼Œå¹¶å…³é—­issueï¼›
è®¾ç½®issueæ ¼å¼ï¼š
è¿™ä¸ªæˆ‘å·²ç»è®¾ç½®å¥½äº†ï¼Œä½ åªéœ€è¦è¿›è¡Œè‡ªå®šä¹‰å³å¯ã€‚
<!-- endtab -->

{% endtabs %}

{% endfolding %}